# ğŸ”— TÃ­nh nÄƒng LiÃªn káº¿t Hai chiá»u - Quáº£n lÃ½ ÄÆ¡n hÃ ng â†” AI Design

## ğŸ“‹ Tá»•ng quan

TÃ­nh nÄƒng **LiÃªn káº¿t Hai chiá»u** cho phÃ©p nhÃ¢n viÃªn táº¡o thiáº¿t káº¿ thÃªu tá»« **2 nÆ¡i**:
1. Trá»±c tiáº¿p trong trang **Quáº£n lÃ½ ÄÆ¡n hÃ ng** (khi xem chi tiáº¿t Ä‘Æ¡n)
2. Trong trang **Trá»£ lÃ½ AI Design** (workflow chuyÃªn nghiá»‡p)

Thiáº¿t káº¿ Ä‘Æ°á»£c táº¡o ra sáº½ **tá»± Ä‘á»™ng lÆ°u vÃ o Ä‘Æ¡n hÃ ng** vÃ  cÃ³ thá»ƒ xem/táº£i vá» báº¥t cá»© lÃºc nÃ o.

---

## ğŸ¯ Workflow 1: Táº¡o thiáº¿t káº¿ tá»« Trang Quáº£n lÃ½ ÄÆ¡n hÃ ng

### BÆ°á»›c 1: VÃ o chi tiáº¿t Ä‘Æ¡n hÃ ng
- VÃ o trang "ğŸ“¦ Quáº£n lÃ½ ÄÆ¡n hÃ ng"
- KÃ©o xuá»‘ng pháº§n "ğŸ” Tra cá»©u chi tiáº¿t Ä‘Æ¡n"
- Chá»n mÃ£ Ä‘Æ¡n hÃ ng cáº§n lÃ m thiáº¿t káº¿

### BÆ°á»›c 2: Upload áº£nh vÃ  Gen thiáº¿t káº¿
- KÃ©o xuá»‘ng pháº§n "ğŸ¨ Thiáº¿t káº¿ thÃªu cho Ä‘Æ¡n hÃ ng nÃ y"
- **Cá»™t trÃ¡i**: Upload áº£nh pet cá»§a khÃ¡ch hÃ ng
- Báº¥m nÃºt "ğŸ¨ Gen thiáº¿t káº¿ ngay"
- Äá»£i AI xá»­ lÃ½ (30-60 giÃ¢y)

### BÆ°á»›c 3: Xem káº¿t quáº£
- **Cá»™t pháº£i**: áº¢nh thiáº¿t káº¿ sáº½ hiá»‡n ra ngay
- Báº¥m "ğŸ“¥ Táº£i thiáº¿t káº¿ vá» mÃ¡y" Ä‘á»ƒ lÆ°u file
- Thiáº¿t káº¿ Ä‘Ã£ Ä‘Æ°á»£c **lÆ°u tá»± Ä‘á»™ng** vÃ o Ä‘Æ¡n hÃ ng nÃ y

### Lá»£i Ã­ch:
- âœ… Nhanh chÃ³ng - khÃ´ng cáº§n chuyá»ƒn trang
- âœ… Thiáº¿t káº¿ gáº¯n liá»n vá»›i Ä‘Æ¡n hÃ ng ngay láº­p tá»©c
- âœ… PhÃ¹ há»£p khi cáº§n lÃ m thiáº¿t káº¿ cáº¥p tá»‘c

---

## ğŸ¨ Workflow 2: Táº¡o thiáº¿t káº¿ tá»« Trang AI Design

### BÆ°á»›c 1: Chá»n Ä‘Æ¡n hÃ ng
- VÃ o trang "ğŸ¨ Trá»£ lÃ½ AI Design"
- á» pháº§n "ğŸ“‹ Chá»n Ä‘Æ¡n hÃ ng cáº§n lÃ m thiáº¿t káº¿"
- Chá»n mÃ£ Ä‘Æ¡n hÃ ng tá»« dropdown

### BÆ°á»›c 2: Upload vÃ  Gen
- **Cá»™t trÃ¡i**: Upload áº£nh pet
- **Cá»™t pháº£i**: Báº¥m "ğŸ¨ Gen áº£nh máº«u thÃªu"
- Äá»£i AI xá»­ lÃ½

### BÆ°á»›c 3: Tá»± Ä‘á»™ng lÆ°u vÃ o Ä‘Æ¡n hÃ ng
- áº¢nh thiáº¿t káº¿ hiá»‡n ra
- Há»‡ thá»‘ng tá»± Ä‘á»™ng cáº­p nháº­t vÃ o Ä‘Æ¡n hÃ ng Ä‘Ã£ chá»n
- ThÃ´ng bÃ¡o: "âœ… ÄÃ£ cáº­p nháº­t thiáº¿t káº¿ cho Ä‘Æ¡n hÃ ng [MÃ£ Ä‘Æ¡n]"

### Lá»£i Ã­ch:
- âœ… Giao diá»‡n chuyÃªn nghiá»‡p, layout 2 cá»™t
- âœ… CÃ³ thá»ƒ xem style reference (náº¿u cáº§n)
- âœ… PhÃ¹ há»£p khi lÃ m nhiá»u thiáº¿t káº¿ liÃªn tiáº¿p

---

## ğŸ’¾ LÆ°u trá»¯ & Báº£o toÃ n dá»¯ liá»‡u

### Tá»± Ä‘á»™ng lÆ°u CSV
- Má»—i khi táº¡o Ä‘Æ¡n hÃ ng má»›i â†’ LÆ°u vÃ o `don_hang.csv`
- Má»—i khi cáº­p nháº­t thiáº¿t káº¿ â†’ LÆ°u vÃ o `don_hang.csv`
- File CSV chá»©a toÃ n bá»™ dá»¯ liá»‡u bao gá»“m cáº£ áº£nh thiáº¿t káº¿ (dáº¡ng bytes)

### Táº£i láº¡i khi F5
- Khi refresh trang â†’ Tá»± Ä‘á»™ng load tá»« `don_hang.csv`
- Táº¥t cáº£ Ä‘Æ¡n hÃ ng vÃ  thiáº¿t káº¿ Ä‘á»u Ä‘Æ°á»£c giá»¯ nguyÃªn
- KhÃ´ng máº¥t dá»¯ liá»‡u khi Ä‘Ã³ng/má»Ÿ láº¡i app

### Vá»‹ trÃ­ file:
```
c:\app_theu\
â”œâ”€â”€ app.py
â”œâ”€â”€ don_hang.csv          â† File lÆ°u trá»¯ chÃ­nh
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ style_ref.jpg
```

---

## ğŸ” Xem thiáº¿t káº¿ Ä‘Ã£ lÆ°u

### CÃ¡ch 1: Trong pháº§n Chi tiáº¿t Ä‘Æ¡n hÃ ng
1. VÃ o trang "ğŸ“¦ Quáº£n lÃ½ ÄÆ¡n hÃ ng"
2. Chá»n Ä‘Æ¡n hÃ ng trong "ğŸ” Tra cá»©u chi tiáº¿t Ä‘Æ¡n"
3. KÃ©o xuá»‘ng pháº§n "ğŸ¨ Thiáº¿t káº¿ thÃªu"
4. **Cá»™t pháº£i** sáº½ hiá»ƒn thá»‹ áº£nh thiáº¿t káº¿ náº¿u Ä‘Ã£ cÃ³
5. Báº¥m "ğŸ“¥ Táº£i thiáº¿t káº¿ vá» mÃ¡y" Ä‘á»ƒ download

### CÃ¡ch 2: Trong trang AI Design
1. VÃ o trang "ğŸ¨ Trá»£ lÃ½ AI Design"
2. Chá»n mÃ£ Ä‘Æ¡n hÃ ng Ä‘Ã£ cÃ³ thiáº¿t káº¿
3. Náº¿u Ä‘Æ¡n Ä‘Ã³ Ä‘Ã£ cÃ³ thiáº¿t káº¿, **cá»™t pháº£i** sáº½ hiá»ƒn thá»‹ ngay

---

## ğŸ“Š Cáº¥u trÃºc dá»¯ liá»‡u

### DataFrame chÃ­nh (st.session_state.df_don_hang):
```python
{
    "MÃ£ Ä‘Æ¡n hÃ ng": "DH001",
    "KhÃ¡ch hÃ ng": "Nguyá»…n VÄƒn A",
    "Sáº£n pháº©m": "Ão thun thÃªu logo",
    "Sá»‘ lÆ°á»£ng": 50,
    "MÃ£ SKU": "TS-DEN-M",
    "Tráº¡ng thÃ¡i": "Äang thiáº¿t káº¿",
    "NgÃ y táº¡o": "01/01/2025",
    "Tá»•ng tiá»n": "5,000,000Ä‘",
    "Anh_Design": b'\x89PNG\r\n...'  â† Dá»¯ liá»‡u áº£nh (bytes)
}
```

### File CSV (don_hang.csv):
- LÆ°u táº¥t cáº£ thÃ´ng tin Ä‘Æ¡n hÃ ng
- Cá»™t `Anh_Design` chá»©a dá»¯ liá»‡u áº£nh dáº¡ng bytes
- Encoding: UTF-8 with BOM

---

## ğŸ¯ Use Cases thá»±c táº¿

### Use Case 1: NhÃ¢n viÃªn Sales nháº­n Ä‘Æ¡n má»›i
1. Nháº­n chat chá»‘t Ä‘Æ¡n tá»« khÃ¡ch
2. VÃ o trang "Quáº£n lÃ½ ÄÆ¡n hÃ ng" â†’ Táº¡o Ä‘Æ¡n má»›i (AI tá»± Ä‘á»™ng Ä‘iá»n)
3. KhÃ¡ch gá»­i áº£nh pet â†’ Upload ngay trong pháº§n chi tiáº¿t Ä‘Æ¡n
4. Gen thiáº¿t káº¿ â†’ Gá»­i preview cho khÃ¡ch duyá»‡t
5. KhÃ¡ch Ä‘á»“ng Ã½ â†’ Táº£i file thiáº¿t káº¿ vá» lÃ m Wilcom

### Use Case 2: Team Design lÃ m hÃ ng loáº¡t
1. VÃ o trang "Trá»£ lÃ½ AI Design"
2. Chá»n Ä‘Æ¡n DH001 â†’ Upload áº£nh pet â†’ Gen â†’ LÆ°u
3. Chá»n Ä‘Æ¡n DH002 â†’ Upload áº£nh pet â†’ Gen â†’ LÆ°u
4. Chá»n Ä‘Æ¡n DH003 â†’ Upload áº£nh pet â†’ Gen â†’ LÆ°u
5. Sau Ä‘Ã³ vÃ o "Quáº£n lÃ½ ÄÆ¡n hÃ ng" â†’ Xem tá»«ng Ä‘Æ¡n â†’ Táº£i táº¥t cáº£ thiáº¿t káº¿ vá»

### Use Case 3: Kiá»ƒm tra láº¡i thiáº¿t káº¿ cÅ©
1. KhÃ¡ch hÃ ng gá»i láº¡i há»i vá» Ä‘Æ¡n DH005 tá»« tuáº§n trÆ°á»›c
2. VÃ o "Tra cá»©u chi tiáº¿t Ä‘Æ¡n" â†’ Chá»n DH005
3. áº¢nh thiáº¿t káº¿ hiá»‡n ra ngay â†’ Gá»­i láº¡i cho khÃ¡ch
4. Hoáº·c táº£i vá» Ä‘á»ƒ xem chi tiáº¿t

---

## âš ï¸ LÆ°u Ã½ quan trá»ng

### File don_hang.csv cÃ³ thá»ƒ lá»›n
- Má»—i áº£nh thiáº¿t káº¿ ~ 1-5 MB
- 100 Ä‘Æ¡n hÃ ng cÃ³ thiáº¿t káº¿ ~ 100-500 MB
- NÃªn sao lÆ°u Ä‘á»‹nh ká»³

### Backup dá»¯ liá»‡u
- Copy file `don_hang.csv` ra nÆ¡i khÃ¡c Ä‘á»‹nh ká»³
- Hoáº·c commit vÃ o Git (náº¿u cÃ³)
- TrÃ¡nh máº¥t dá»¯ liá»‡u khi sá»­a code

### XÃ³a thiáº¿t káº¿ cÅ©
- Hiá»‡n táº¡i chÆ°a cÃ³ chá»©c nÄƒng xÃ³a thiáº¿t káº¿
- Náº¿u muá»‘n lÃ m láº¡i, chá»‰ cáº§n gen má»›i (sáº½ ghi Ä‘Ã¨)
- áº¢nh cÅ© sáº½ bá»‹ thay tháº¿ báº±ng áº£nh má»›i

---

## ğŸš€ Lá»£i Ã­ch tá»•ng thá»ƒ

âœ… **TÃ­ch há»£p cháº·t cháº½**: Thiáº¿t káº¿ gáº¯n vá»›i Ä‘Æ¡n hÃ ng, khÃ´ng bao giá» láº¡c  
âœ… **Linh hoáº¡t**: 2 cÃ¡ch táº¡o thiáº¿t káº¿, phÃ¹ há»£p má»i workflow  
âœ… **Tá»± Ä‘á»™ng lÆ°u**: KhÃ´ng cáº§n nháº¥n Save, khÃ´ng sá»£ quÃªn  
âœ… **Báº£o toÃ n dá»¯ liá»‡u**: File CSV backup tá»± Ä‘á»™ng, F5 khÃ´ng máº¥t dá»¯ liá»‡u  
âœ… **Truy xuáº¥t dá»… dÃ ng**: Xem láº¡i thiáº¿t káº¿ cÅ© báº¥t cá»© lÃºc nÃ o  

---

**PhiÃªn báº£n:** 3.1 - LiÃªn káº¿t Hai chiá»u  
**Cáº­p nháº­t:** ThÃ¡ng 1/2025

